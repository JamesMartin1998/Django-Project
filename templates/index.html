{% extends 'base.html' %}

{% block content %}
<!-- Code for carousel from https://www.youtube.com/watch?v=9HcxHDS2w1s -->
<section aria-label="Latest Movies">
    <div class="carousel" data-carousel>
        <button class="carousel-button prev" data-carousel-button="prev">
            <i class="fa-solid fa-arrow-left"></i>
        </button>
        <button class="carousel-button next" data-carousel-button="next">
            <i class="fa-solid fa-arrow-right"></i>
        </button>
        <ul data-slides>
            <li class="slide" data-active>
                <img src="https://insomniac.games/wp-content/uploads/2018/09/Spider-Man_PS4_Selfie_Photo_Mode_LEGAL.jpg" alt="Spider man image">
            </li>
            <li class="slide">
                <img src="https://www.denofgeek.com/wp-content/uploads/2021/08/batman-89-1.jpg?resize=768%2C432" alt="Batman image">
            </li>
            <li class="slide">
                <img src="https://cdn.mos.cms.futurecdn.net/aTK8YBkBAbqCSzNGxt8adL-1200-80.jpg.webp" alt="Ironman image">
            </li>
            
        </ul>
    </div>
</section>
{% if user.is_authenticated %}
    {% if bookings|length >= 1 %}
    <section class="mt-3">
        <div class="d-flex justify-content-center">
            <div>
                <h2>Your Active Bookings</h2>
                <table class="active-bookings">
                    <tr>
                        <th>Movie</th>
                        <th>Tickets</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th></th>
                    </tr>
                    {% for booking in bookings %}
                    <tr>
                        <td>{{ booking.movie.title }}</td>
                        <td>{{ booking.number_of_tickets }}</td>
                        <td>{{ booking.showing.day_shown }}</td>
                        <td>{{ booking.showing.time_shown }}</td>
                        <td><a href="{% url 'edit-booking' id=booking.id %}"><button>Edit Booking</button></a></td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </section>
    {% endif %}
{% endif %}

<script src="../static/js/script.js" defer></script>
{% endblock %}
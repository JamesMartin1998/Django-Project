{% extends 'base.html' %}

{% block content %}

<!-- Movie title and Image -->
<div>
    <h1 class="center-title"><span id="edit-movie-title">{{ booking.movie.title }}</span></h1>
</div>

<div class="d-flex justify-content-center align-items-center">
    <div class="movie-showcase-div col-sm-10 col-md-8 col-lg-6" >
        <img src="{{ booking.movie.featured_image.url }}" alt="{{ movie.title }} Image">
    </div>
</div>

<!-- Edit Booking Form -->

<form id="edit-booking-form" method="POST" action="">
    {% csrf_token %}
    {{form}}
    <button class="small-btn" type="submit">Submit</button>
</form>

<script>
    // Checks the movie title for the existing showing. Removes showing options for other movies
    // Code recommended by my Korean developer friend from https://goodsgoods.tistory.com/249

    var movie_name = $('#edit-movie-title').text();

    var showingOptions = $("#id_showing").children();
        for (let option of showingOptions) {
            if (option.text.includes(movie_name)) {
                //pass
            } else {
                option.remove();
            }
        }
</script>

{% endblock %}